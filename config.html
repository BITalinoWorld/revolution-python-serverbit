<html>
<head>
	<link rel="stylesheet" type="text/css" href="static/jquery.mobile.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/css/bootstrap.min.css">
	<script language="javascript" src="static/jquery.js"></script>
	<script language="javascript" src="static/jquery.mobile.min.js"></script>
    <script language="javascript"  src="static/jquery.add-input-area.min.js"></script>
	<style>
    table {
        width: 250%;
    }
    form, #reset_config, #kill_instance {
        margin: 35px;
				width: 30%;
		}
		.form-group, .checkbox{
	  	display: inline-block;
		}
		#chn_field{
			min-width: 366px;
		}

	</style>
</head>
<body>

	<form id="config">
		<label> Device Selection</label>
		<label for="bitalino_or_riot"></label>
		<fieldset id='bitalino_or_riot_field' data-role="controlgroup" data-type="horizontal">
			<legend></legend>
					<input onclick="server_handler(this)" name="finder[]" id="BITalino_check" type="checkbox" checked>
					<label for="BITalino_check">BITalino/PLUX</label>
					<input onclick="server_handler(this)" name="finder[]" id="Riot_check" type="checkbox">
					<label for="Riot_check">R-IoT</label>
		</fieldset>
		<button id="find_devices" type="button">Find Devices</button>
		<img id="loading_anim" class="hideable_img" src="static/images/ajax-loader.gif" height="42" width="42" style="display none;">
	<br>

<!--        <input name="textinput-s" id="devinput-s" placeholder='device list' value={{crt_conf['device']}} disabled="true" data-clear-btn="true" type="text">-->

        <table id="device-list" class="table"><!-- "id" attribute is required -->
            <tbody>
                <tr class="device-list_var"><!-- .(id)_var -->
                    <td><select class="dev_selector" id="mySelect_0">
			             <option value="">Select New Device</option>
                        </select>
                    </td>
                    <td><input type="text" name="textinput-s" id="device_0" placeholder='MAC address (select above)' value={{crt_conf['device']}} data-clear-btn="true" ></td>
                    <td><input type="text" name="textinput-s" id="devicetype_0" disabled=true data-clear-btn="true" ></td>
                    <td class="del-area"><button class="device-list_del btn-default">Remove</button></td>
                 </tr>
            </tbody>
        </table>
        <input type="button" value="Add" class="device-list_add"><!-- .(id)_add --
        <a href="javascript:void(0)" class="list_add btn btn-danger">Add</a><br>


		<!-- <label for="fsinput-s">Sampling Rate:</label>
		<input name="textinput-s" id="fsinput-s" placeholder={{crt_conf['sampling_rate']}} value={{crt_conf['sampling_rate']}} data-clear-btn="true" type="text">

		<label for="bsinput-s">Buffer Size:</label>
		<input name="textinput-s" id="bsinput-s" placeholder={{crt_conf['buffer_size']}} value={{crt_conf['buffer_size']}} data-clear-btn="true" type="text"> -->

		<label for="chnz-s"></label>
		<fieldset id='chn_field' data-role="controlgroup" data-type="horizontal">
			<legend>Channel Selection:</legend>
				{% for chn in old_conf['channels'] %}
					{% if chn in crt_conf['channels'] %}
					<input onclick=clicked({{chn}}) name="chk{{chn}}" id="ch{{chn}}" type="checkbox" checked>
					{% else %}
					<input onclick=clicked({{chn}}) name="chk{{chn}}" id="ch{{chn}}" type="checkbox">
					{% end %}
					<label for="ch{{chn}}">Channel A{{chn}}</label>
				{% end %}
		</fieldset>
		<label for="lblz-s"></label>
		<fieldset id='lbl_field' data-role="controlgroup" data-type="horizontal">
			<legend>Label Selection:</legend>
				{% for chn in old_conf['labels'][:5] %}
				<input name="chk{{chn}}" id="lb{{chn}}" type="text" placeholder='{{chn}}' value='{{chn}}'>
				{% end %}
				{% for chn in old_conf['labels'][5:] %}
				<input name="chk{{chn}}" id="lb{{chn}}" type="text" placeholder='{{chn}}' value='{{chn}}' disabled='disabled'>
				{% end %}
		</fieldset>

		{% for key in crt_conf %}
			{% if 'channels' not in key and 'labels' not in key and 'device' not in key %}
			<label for={{key}}-s>{{key}}</label>
				{% if 'protocol' in key %}
				<select id="{{key}}-s">
					<option value="" selected disabled hidden>{{crt_conf[key]}}</option>
					<option value='"Websockets"'>Websockets</option>
					<option value='"OSC"'>OSC</option>
				</select>
				{% else %}
			<input name="textinput-s" id="{{key}}-s"  value={{crt_conf[key]}} data-clear-btn="true" type="text">
				{% end %}
			{% end %}
		{% end %}

		<!-- <label for="pinput-s">Port:</label>
		<input name="textinput-s" id="pinput-s" placeholder={{crt_conf['port']}} value={{crt_conf['port']}} data-clear-btn="true" type="text"> -->

		<input id='Submit' value="Submit" type="submit">
	</form>

	<button id="reset_config" type="button">Reset</button>
    <button id="kill_instance" type="button" disabled="true">Stop ServerBIT</button>

<script language="javascript"  src="static/config.js"></script>

</body>

</html>
